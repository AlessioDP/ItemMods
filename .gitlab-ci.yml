image: maven:latest
deploy:
  script:
    - 'mvn deploy -s ci_settings.xml'
  only:
    - master
build:
  script: "mvn clean package"
  artifacts:
    name: "ItemMods"
    paths: 
    - "target/*.jar"
pages:
  image: "openkbs/jdk-mvn-py"
  before_script:
  - 'pip install mkdocs'
  - 'pip install mkdocs-material'
  script:
  - 'mv assets public'
  - 'mv ./*.md public'
  - 'mkdocs build'
  - 'mvn javadoc:javadoc'
  - 'mv target/site/* public'
  
  only:
    - master
  artifacts:
    paths:
        - public